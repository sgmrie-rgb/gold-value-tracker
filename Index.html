<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gold Worth Tracker</title>
</head>
<body style="font-family:sans-serif;text-align:center;padding:20px;">
  <h1>ðŸ’° Gold Worth Tracker</h1>
  <p id="usd"></p>
  <p id="egp"></p>
  <button onclick="fetchPrices()">Refresh Prices</button>

  <script>
    const goldItems = [
      { weight: 5, karat: 24 },
      { weight: 5, karat: 24 },
      { weight: 1, karat: 24 },
      { weight: 1, karat: 24 },
      { weight: 4, karat: 21 },
      { weight: 7.61, karat: 18 },
      { weight: 1.8, karat: 18 }
    ];

    async function fetchPrices() {
      document.getElementById('usd').innerText = 'Loading...';
      try {
        const res = await fetch('https://api.metals.live/v1/spot');
        const data = await res.json();
        const goldUSDPerOunce = data.find(i => i.gold)?.gold;
        const goldUSDPerGram = goldUSDPerOunce / 31.1035;

        const forex = await fetch('https://api.exchangerate.host/latest?base=USD&symbols=EGP');
        const rate = (await forex.json()).rates.EGP;

        const totalUSD = goldItems.reduce((sum, i) => sum + i.weight * goldUSDPerGram * (i.karat / 24), 0);
        const totalEGP = totalUSD * rate;

        document.getElementById('usd').innerText = `Total: $${totalUSD.toFixed(2)} USD`;
        document.getElementById('egp').innerText = `â‰ˆ ${totalEGP.toFixed(2)} EGP`;
      } catch (err) {
        document.getElementById('usd').innerText = 'Error fetching data';
      }
    }

    fetchPrices();
  </script>
</body>
</html>
